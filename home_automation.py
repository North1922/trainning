# 10) Домашняя автоматизация (Command)
#
# Классы: Device (абстрактный), Light, Thermostat, Command, Macro.
# Методы: execute(), undo() для команд; макрокоманда запускает набор.
# Проверки: undo доступен только для выполненных команд.
# Усложнение: ограничение диапазонов (температура/якость), журнал команд.

# 10) Домашняя автоматизация (Command)
#
# Сущности: Device (абстрактный), Light, Thermostat, Command, Macro, Remote.
#
# Атрибуты:
#
# Light: яркость 0–100, is_on.
#
# Thermostat: target_temp в диапазоне.
#
# Command: execute(), undo(), ссылка на устройство и параметры.
#
# Macro: список команд.
#
# Remote: стек выполненных команд (для undo).
#
# Методы (обязательные):
#
# Команды для света: TurnOn, TurnOff, SetBrightness(x).
#
# Команды для термостата: SetTemperature(t).
#
# Macro.execute() — выполнить последовательно; undo() — откатить в обратном порядке.
#
# Remote.run(command) — выполнить и положить в стек; Remote.undo_last() — откатить последнюю.
#
# У устройств — геттеры состояния.
#
# Проверки/ошибки: значения вне диапазона; undo без истории.
#
# Инварианты: 0 ≤ brightness ≤ 100; температура в допустимом диапазоне.
#
# Усложнения: расписания; ограничения (не выключать свет ниже 10% в ночном режиме), журнал событий.